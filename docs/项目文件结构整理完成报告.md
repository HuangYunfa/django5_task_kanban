# é¡¹ç›®æ–‡ä»¶ç»“æ„æ•´ç†å®ŒæˆæŠ¥å‘Š

## æ•´ç†æ¦‚è¿°
æ ¹æ®README.mdå’Œdocsä¸­çš„é¡¹ç›®è§„èŒƒï¼Œå¯¹æ ¹ç›®å½•ä¸‹æ•£ä¹±çš„æµ‹è¯•æ–‡ä»¶å’Œå·¥å…·è„šæœ¬è¿›è¡Œäº†é‡æ–°ç»„ç»‡å’Œåˆ†ç±»ã€‚

## ä¸»è¦æ”¹è¿›

### 1. æµ‹è¯•æ–‡ä»¶ç»“æ„æ•´ç†
æŒ‰ç…§é¡¹ç›®æ ‡å‡†ï¼Œæ‰€æœ‰æµ‹è¯•æ–‡ä»¶å·²æŒ‰åŠŸèƒ½å’Œç±»å‹é‡æ–°åˆ†ç±»ï¼š

```
tests/
â”œâ”€â”€ ui/          # UIè‡ªåŠ¨åŒ–æµ‹è¯• (Playwright)
â”‚   â”œâ”€â”€ homepage/         # é¦–é¡µç›¸å…³UIæµ‹è¯•
â”‚   â”œâ”€â”€ test_*.py        # å…¶ä»–UIæµ‹è¯•
â”‚   â””â”€â”€ conftest.py      # Playwrighté…ç½®
â”œâ”€â”€ api/         # APIæ¥å£æµ‹è¯•
â”œâ”€â”€ unit/        # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ boards/          # çœ‹æ¿åŠŸèƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ reports/         # æŠ¥è¡¨åŠŸèƒ½æµ‹è¯•  
â”‚   â”œâ”€â”€ users/           # ç”¨æˆ·åŠŸèƒ½æµ‹è¯•
â”‚   â””â”€â”€ test_*.py        # å…¶ä»–å•å…ƒæµ‹è¯•
â”œâ”€â”€ integration/ # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ email/           # é‚®ä»¶åŠŸèƒ½é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ test_*.py        # å…¶ä»–é›†æˆæµ‹è¯•
â”œâ”€â”€ archived/    # å·²åºŸå¼ƒæ–‡ä»¶å½’æ¡£
â””â”€â”€ conftest.py  # pytestå…¨å±€é…ç½®
```

### 2. å·¥å…·è„šæœ¬ç»“æ„æ•´ç†
å·¥å…·è„šæœ¬æŒ‰åŠŸèƒ½åˆ†ç±»åˆ°toolsç›®å½•ä¸‹ï¼š

```
tools/
â”œâ”€â”€ utilities/   # é€šç”¨å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ email_config_manager.py    # é‚®ä»¶é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ fix_email_config.py       # é‚®ä»¶é…ç½®ä¿®å¤
â”‚   â”œâ”€â”€ organize_project.py       # é¡¹ç›®ç»„ç»‡å·¥å…·
â”‚   â””â”€â”€ reset_superuser_password.py # å¯†ç é‡ç½®å·¥å…·
â”œâ”€â”€ debug/       # è°ƒè¯•å·¥å…·
â”œâ”€â”€ fixes/       # ä¿®å¤å·¥å…·
â”œâ”€â”€ analysis/    # åˆ†æå·¥å…·
â”œâ”€â”€ demo/        # æ¼”ç¤ºè„šæœ¬
â””â”€â”€ planning/    # è§„åˆ’å·¥å…·
```

### 3. ç§»é™¤çš„é‡å¤æ–‡ä»¶
ä»æ ¹ç›®å½•ç§»é™¤äº†ä»¥ä¸‹é‡å¤æ–‡ä»¶ï¼š
- test_smtp_simple.py (å·²å­˜åœ¨äºtests/integration/email/)
- test_email_functionality.py (å·²å­˜åœ¨äºtests/integration/email/)
- verify_success_check.py (å·²å­˜åœ¨äºtools/utilities/)
- organize_project_enhanced.py (å·²å­˜åœ¨äºtools/utilities/)
- reset_superuser_password.py (å·²å­˜åœ¨äºtools/utilities/)

### 4. æµ‹è¯•é…ç½®ä¼˜åŒ–
- ä¿æŒpytest.inié…ç½®ä¸å˜ï¼Œç¡®ä¿å…¼å®¹æ€§
- æµ‹è¯•è·¯å¾„é…ç½®æ­£ç¡®æŒ‡å‘testså’Œtaskkanban/testsç›®å½•
- æ ‡è®°ç³»ç»Ÿå®Œæ•´ï¼Œæ”¯æŒæŒ‰ç±»å‹è¿è¡Œæµ‹è¯•

## æµ‹è¯•éªŒè¯

### å•å…ƒæµ‹è¯•éªŒè¯
```bash
python -m pytest tests/unit/test_user_management.py -v
# âœ… 2 passed, 4 warnings in 2.41s
```

### é›†æˆæµ‹è¯•éªŒè¯
é‚®ä»¶ç›¸å…³é›†æˆæµ‹è¯•å¯æ­£å¸¸è¿è¡Œï¼Œéƒ¨åˆ†æµ‹è¯•æ–‡ä»¶éœ€è¦å°å¹…ä¿®å¤ä»¥ç¬¦åˆpytestæ ‡å‡†ã€‚

## ä½¿ç”¨æŒ‡å—

### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
pytest
```

### æŒ‰ç±»å‹è¿è¡Œæµ‹è¯•
```bash
pytest tests/ui/          # UIè‡ªåŠ¨åŒ–æµ‹è¯•
pytest tests/api/         # APIæ¥å£æµ‹è¯•  
pytest tests/unit/        # å•å…ƒæµ‹è¯•
pytest tests/integration/ # é›†æˆæµ‹è¯•
```

### æŒ‰æ ‡è®°è¿è¡Œæµ‹è¯•
```bash
pytest -m "not slow"      # æ’é™¤ç¼“æ…¢æµ‹è¯•
pytest -m "ui"            # åªè¿è¡ŒUIæµ‹è¯•
pytest -m "integration"   # åªè¿è¡Œé›†æˆæµ‹è¯•
```

### è¿è¡Œå·¥å…·è„šæœ¬
```bash
# é‚®ä»¶é…ç½®ç®¡ç†
python -m tools.utilities.email_config_manager

# é¡¹ç›®è¿›åº¦æ£€æŸ¥
python -m tools.analysis.check_project_progress

# è°ƒè¯•å·¥å…·
python -m tools.debug.debug_login
```

## é¡¹ç›®ç»“æ„ä¼˜åŠ¿

1. **æ¸…æ™°çš„å±‚æ¬¡ç»“æ„**: æŒ‰åŠŸèƒ½ç±»å‹åˆ†å±‚ç»„ç»‡ï¼Œä¾¿äºæŸ¥æ‰¾å’Œç»´æŠ¤
2. **æ ‡å‡†åŒ–å‘½å**: éµå¾ªDjangoå’Œpytestæœ€ä½³å®è·µ
3. **æ¨¡å—åŒ–è®¾è®¡**: å·¥å…·è„šæœ¬æŒ‰åŠŸèƒ½åˆ†ç±»ï¼Œä¾¿äºå¤ç”¨
4. **æµ‹è¯•åˆ†ç¦»**: ä¸åŒç±»å‹æµ‹è¯•ç‹¬ç«‹ç®¡ç†ï¼Œæ”¯æŒå¹¶è¡Œæ‰§è¡Œ
5. **æ–‡æ¡£å®Œæ•´**: æ¯ä¸ªç›®å½•éƒ½æœ‰æ¸…æ™°çš„ç”¨é€”è¯´æ˜

## åç»­å»ºè®®

1. **æŒç»­ç»´æŠ¤**: æ–°å¢æµ‹è¯•æ–‡ä»¶æ—¶ä¸¥æ ¼æŒ‰ç…§ç›®å½•ç»“æ„æ”¾ç½®
2. **æ ‡è®°è§„èŒƒ**: ä¸ºæ–°æµ‹è¯•æ·»åŠ é€‚å½“çš„pytestæ ‡è®°
3. **æ–‡æ¡£æ›´æ–°**: åŠæ—¶æ›´æ–°æµ‹è¯•ç›¸å…³æ–‡æ¡£å’ŒREADME
4. **CI/CDä¼˜åŒ–**: åˆ©ç”¨åˆ†å±‚ç»“æ„ä¼˜åŒ–æŒç»­é›†æˆæµç¨‹

## æ€»ç»“

é€šè¿‡è¿™æ¬¡æ•´ç†ï¼Œé¡¹ç›®ç»“æ„æ›´åŠ è§„èŒƒåŒ–å’Œä¸“ä¸šåŒ–ï¼Œç¬¦åˆDjangoé¡¹ç›®æœ€ä½³å®è·µã€‚æ ¹ç›®å½•ä¿æŒç®€æ´ï¼Œæ‰€æœ‰æµ‹è¯•å’Œå·¥å…·è„šæœ¬éƒ½æœ‰æ˜ç¡®çš„åˆ†ç±»å’Œå½’å±ï¼Œå¤§å¤§æå‡äº†é¡¹ç›®çš„å¯ç»´æŠ¤æ€§å’Œå¼€å‘ä½“éªŒã€‚

## æ•´ç†æ¦‚è¿°

æ ¹æ®Djangoé¡¹ç›®çš„æœ€ä½³å®è·µå’ŒREADME.mdä¸­çš„è§„èŒƒï¼ŒæˆåŠŸå°†æ•£è½åœ¨é¡¹ç›®æ ¹ç›®å½•çš„æµ‹è¯•æ–‡ä»¶å’Œå·¥å…·è„šæœ¬æ•´ç†åˆ°äº†åˆé€‚çš„ç›®å½•ç»“æ„ä¸­ã€‚

## æ•´ç†ç»“æœ

### ğŸ“¦ æ–‡ä»¶ç§»åŠ¨ç»Ÿè®¡
- âœ… **æˆåŠŸç§»åŠ¨**: 11ä¸ªæ–‡ä»¶
- â­ï¸ **è·³è¿‡æ–‡ä»¶**: 1ä¸ªæ–‡ä»¶ï¼ˆå½“å‰è„šæœ¬ï¼‰
- âŒ **ç§»åŠ¨å¤±è´¥**: 0ä¸ªæ–‡ä»¶

### ğŸ“‚ ç›®å½•ç»“æ„è°ƒæ•´

#### 1. é‚®ä»¶ç³»ç»Ÿé›†æˆæµ‹è¯• (`tests/integration/email/`)
ç§»åŠ¨çš„æ–‡ä»¶ï¼š
- `test_custom_backend.py` - è‡ªå®šä¹‰é‚®ä»¶åç«¯æµ‹è¯•
- `test_custom_smtp.py` - è‡ªå®šä¹‰SMTPé…ç½®æµ‹è¯•
- `test_email_functionality.py` - é‚®ä»¶åŠŸèƒ½æµ‹è¯•
- `test_email_verification.py` - é‚®ç®±éªŒè¯åŠŸèƒ½æµ‹è¯•
- `test_email_verification_complete.py` - å®Œæ•´é‚®ç®±éªŒè¯æµ‹è¯•
- `test_email_verify_link.py` - é‚®ç®±éªŒè¯é“¾æ¥æµ‹è¯•
- `test_smtp_simple.py` - ç®€å•SMTPæµ‹è¯•
- `test_new_verify_link.py` - æ–°é‚®ç®±éªŒè¯é“¾æ¥æµ‹è¯•
- `test_real_smtp.py` - çœŸå®SMTPæœåŠ¡å™¨æµ‹è¯•

#### 2. å·¥å…·è„šæœ¬ (`tools/utilities/`)
ç§»åŠ¨çš„æ–‡ä»¶ï¼š
- `reset_superuser_password.py` - è¶…çº§ç”¨æˆ·å¯†ç é‡ç½®å·¥å…·
- `verify_success_check.py` - ç³»ç»ŸéªŒè¯æ£€æŸ¥å·¥å…·

#### 3. æ–°å¢å·¥å…·
åˆ›å»ºçš„è¾…åŠ©å·¥å…·ï¼š
- `organize_project_enhanced.py` - æ”¹è¿›ç‰ˆé¡¹ç›®æ•´ç†å·¥å…·
- `fix_script_paths.py` - è„šæœ¬è·¯å¾„ä¿®å¤å·¥å…·
- `run_script.py` - è„šæœ¬è¿è¡Œå™¨å·¥å…·
- `django_test_template.py` - Djangoæµ‹è¯•è„šæœ¬æ¨¡æ¿

## ğŸ“š æ–‡æ¡£æ›´æ–°

### åˆ›å»ºçš„READMEæ–‡ä»¶
1. **`tests/integration/email/README.md`**
   - é‚®ä»¶ç³»ç»Ÿé›†æˆæµ‹è¯•è¯´æ˜
   - æµ‹è¯•è¿è¡Œæ–¹æ³•
   - é…ç½®è¦æ±‚å’Œæ³¨æ„äº‹é¡¹

2. **`tools/utilities/README.md`**
   - å·¥å…·è„šæœ¬åˆ†ç±»è¯´æ˜
   - ä½¿ç”¨æ–¹æ³•å’Œæ³¨æ„äº‹é¡¹

## ğŸ”§ æŠ€æœ¯ä¿®å¤

### è·¯å¾„é…ç½®ä¿®å¤
- ä¿®å¤äº†ç§»åŠ¨åè„šæœ¬çš„Djangoè·¯å¾„é…ç½®é—®é¢˜
- æ‰€æœ‰å·¥å…·è„šæœ¬ç°åœ¨éƒ½èƒ½æ­£ç¡®æ‰¾åˆ°Djangoé¡¹ç›®
- ç¡®ä¿è„šæœ¬å¯ä»¥ä»æ–°ä½ç½®æ­£å¸¸è¿è¡Œ

### æµ‹è¯•éªŒè¯
- âœ… è¶…çº§ç”¨æˆ·å¯†ç é‡ç½®å·¥å…·æ­£å¸¸å·¥ä½œ
- âœ… é‚®ä»¶SMTPæµ‹è¯•é€šè¿‡pytestéªŒè¯
- âœ… é¡¹ç›®ç»“æ„ç¬¦åˆREADME.mdè§„èŒƒ

## ğŸ“‹ ä½¿ç”¨æŒ‡å—

### è¿è¡Œé‚®ä»¶æµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰é‚®ä»¶é›†æˆæµ‹è¯•
pytest tests/integration/email/ -v

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/integration/email/test_smtp_simple.py -v
```

### ä½¿ç”¨å·¥å…·è„šæœ¬
```bash
# é‡ç½®è¶…çº§ç”¨æˆ·å¯†ç 
python tools/utilities/reset_superuser_password.py

# éªŒè¯ç³»ç»ŸçŠ¶æ€
python tools/utilities/verify_success_check.py

# ä½¿ç”¨è„šæœ¬è¿è¡Œå™¨ï¼ˆå¦‚æœè·¯å¾„æœ‰é—®é¢˜ï¼‰
python tools/utilities/run_script.py tools/utilities/reset_superuser_password.py
```

### é¡¹ç›®æ–‡ä»¶æ•´ç†
```bash
# è¿è¡Œæ”¹è¿›ç‰ˆæ•´ç†å·¥å…·
python tools/utilities/organize_project_enhanced.py

# ä¿®å¤è„šæœ¬è·¯å¾„é—®é¢˜
python tools/utilities/fix_script_paths.py
```

## ğŸ¯ ç¬¦åˆé¡¹ç›®è§„èŒƒ

### ç›®å½•ç»“æ„ç¬¦åˆREADME.mdè§„èŒƒ
- âœ… `tests/` - æµ‹è¯•ä»£ç ï¼ŒæŒ‰åŠŸèƒ½æ¨¡å—å’Œç±»å‹åˆ†ç±»
  - âœ… `tests/integration/` - é›†æˆæµ‹è¯•
  - âœ… `tests/unit/` - å•å…ƒæµ‹è¯•
  - âœ… `tests/ui/` - UIç•Œé¢æµ‹è¯•
  - âœ… `tests/api/` - APIæ¥å£æµ‹è¯•
- âœ… `tools/` - è¾…åŠ©å·¥å…·è„šæœ¬
  - âœ… `tools/utilities/` - å®ç”¨å·¥å…·
  - âœ… `tools/debug/` - è°ƒè¯•å·¥å…·
  - âœ… `tools/fixes/` - ä¿®å¤å·¥å…·
  - âœ… `tools/analysis/` - åˆ†æå·¥å…·

### éµå¾ªæœ€ä½³å®è·µ
- æµ‹è¯•æ–‡ä»¶æŒ‰åŠŸèƒ½åˆ†ç±»ï¼Œä¾¿äºç»´æŠ¤
- å·¥å…·è„šæœ¬åˆ†ç›®å½•å­˜æ”¾ï¼ŒèŒè´£æ˜ç¡®
- æä¾›å®Œæ•´çš„æ–‡æ¡£å’Œä½¿ç”¨è¯´æ˜
- ä¿æŒå‘åå…¼å®¹æ€§ï¼ŒåŸæœ‰åŠŸèƒ½ä¸å—å½±å“

## ğŸ’¡ åç»­å»ºè®®

1. **æµ‹è¯•éªŒè¯**
   - å®šæœŸè¿è¡ŒpytestéªŒè¯æ‰€æœ‰æµ‹è¯•æ–‡ä»¶æ­£å¸¸
   - æ£€æŸ¥å·¥å…·è„šæœ¬æ˜¯å¦å¯ä»¥æ­£å¸¸æ‰§è¡Œ

2. **æ–‡æ¡£ç»´æŠ¤**
   - æ›´æ–°é¡¹ç›®æ–‡æ¡£ä¸­çš„æ–‡ä»¶è·¯å¾„å¼•ç”¨
   - ä¿æŒREADMEæ–‡ä»¶çš„å‡†ç¡®æ€§

3. **ç‰ˆæœ¬æ§åˆ¶**
   - æäº¤è¿™äº›ç»“æ„è°ƒæ•´åˆ°ç‰ˆæœ¬æ§åˆ¶
   - è®°å½•é‡è¦çš„å˜æ›´ä¿¡æ¯

4. **å›¢é˜Ÿåä½œ**
   - é€šçŸ¥å›¢é˜Ÿæˆå‘˜æ–‡ä»¶ç»“æ„çš„å˜æ›´
   - æ›´æ–°CI/CDé…ç½®ä¸­çš„è·¯å¾„å¼•ç”¨

## âœ¨ æ€»ç»“

é€šè¿‡è¿™æ¬¡æ•´ç†ï¼š
- é¡¹ç›®æ–‡ä»¶ç»“æ„æ›´åŠ æ¸…æ™°å’Œè§„èŒƒ
- æµ‹è¯•æ–‡ä»¶æŒ‰åŠŸèƒ½åˆ†ç±»ï¼Œä¾¿äºç®¡ç†
- å·¥å…·è„šæœ¬èŒè´£æ˜ç¡®ï¼Œæ˜“äºæŸ¥æ‰¾ä½¿ç”¨
- ç¬¦åˆDjangoé¡¹ç›®çš„æœ€ä½³å®è·µ
- ä¸ºåç»­å¼€å‘å’Œç»´æŠ¤æä¾›äº†è‰¯å¥½çš„åŸºç¡€

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼ˆé‚®ç®±éªŒè¯ã€ç”¨æˆ·ç®¡ç†ã€å¯†ç é‡ç½®ç­‰ï¼‰åœ¨æ–‡ä»¶æ•´ç†åä»ç„¶æ­£å¸¸å·¥ä½œï¼Œç¡®ä¿äº†ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ã€‚
