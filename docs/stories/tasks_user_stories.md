# 任务管理 (Tasks) - 用户故事

## 1. 任务创建

### 故事 1.1：创建新任务

**作为** 一名团队成员，
**我想要** 在看板的特定列表中创建一个新任务，
**以便** 我可以快速记录需要完成的工作。

**验收标准：**
- 用户可以在看板视图中点击“添加任务”按钮。
- 弹出一个表单，要求输入任务标题、描述（可选）、优先级（默认为“普通”）、截止日期（可选）。
- 任务创建后，会出现在指定列表的底部。
- 创建者自动被记录为任务的创建者和报告人。

### 故事 1.2：创建带有详细信息的任务

**作为** 一名项目经理，
**我想要** 在创建任务时就能分配负责人、添加标签和设置预估工时，
**以便** 任务从一开始就具备完整的上下文信息。

**验收标准：**
- 在任务创建表单中，可以搜索并选择一个或多个用户作为任务的负责人。
- 可以从看板已有的标签列表中选择一个或多个标签。
- 可以输入一个数字作为预估工时（例如，小时）。
- 任务创建后，所有这些信息都会被正确保存和显示。

## 2. 任务分配与协作

### 故事 2.1：将任务分配给团队成员

**作为** 一名团队负责人，
**我想要** 将一个已存在的任务分配给一个或多个团队成员，
**以便** 明确任务的责任人。

**验收标准：**
- 在任务详情页，可以编辑“负责人”字段。
- 可以搜索并添加/移除负责人。
- 被分配的成员会收到一个通知。

### 故事 2.2：在任务上进行评论

**作为** 一名团队成员，
**我想要** 在任务卡片上添加评论，
**以便** 我可以与其他相关人员就任务细节进行沟通。

**验收标准：-**
- 任务详情页有一个评论区。
- 用户可以输入文本并提交评论。
- 评论会按时间顺序显示，并包含评论者和评论时间。
- 可以在评论中 @提及 其他用户，被提及的用户会收到通知。

## 3. 任务属性管理

### 故事 3.1：更改任务状态

**作为** 一名任务负责人，
**我想要** 更改任务的状态（例如，从“待办”到“进行中”），
**以便** 反映任务的当前进度。

**验收标准：**
- 在看板视图中，可以通过拖拽任务卡片到不同的列表来改变状态。
- 在任务详情页，可以通过下拉菜单选择新的状态。
- 任务状态的变更会被记录在任务的活动历史中。

### 故事 3.2：设置任务优先级

**作为** 一名项目经理，
**我想要** 为任务设置不同的优先级（低、普通、高、紧急），
**以便** 团队成员可以优先处理重要的任务。

**验收标准：**
- 在任务创建和编辑时，可以从优先级下拉列表中选择。
- 任务卡片上会以某种视觉方式（例如，颜色标记）显示其优先级。

### 故事 3.3：为任务添加标签

**作为** 一名团队成员，
**我想要** 为任务添加或移除标签，
**以便** 对任务进行分类和筛选。

**验收标准：**
- 在任务详情页，可以管理任务的标签。
- 可以从看板的预定义标签列表中选择，或创建新标签（如果权限允许）。
- 在看板视图中，可以根据标签筛选任务。

## 4. 任务依赖与子任务

### 故事 4.1：创建子任务

**作为** 一名团队成员，
**我想要** 将一个复杂的任务分解成多个子任务，
**以便** 更好地管理和跟踪任务的完成过程。

**验收标准：**
- 在任务详情页，可以添加一个或多个子任务。
- 每个子任务都有自己的标题和完成状态。
- 父任务卡片上会显示子任务的完成进度（例如，“3/5 已完成”）。

### 故事 4.2：设置任务依赖关系

**作为** 一名项目经理，
**我想要** 设置任务之间的依赖关系（例如，任务A必须在任务B开始前完成），
**以便** 确保任务按正确的顺序执行。

**验收标准：**
- 在任务详情页，可以指定一个任务“被另一个任务阻塞”或“阻塞另一个任务”。
- 如果一个任务的前置任务尚未完成，系统会给出视觉提示。
- 尝试开始一个被阻塞的任务时，系统会发出警告。

## 5. 附件与历史记录

### 故事 5.1：为任务上传附件

**作为** 一名团队成员，
**我想要** 为任务上传文件附件，
**以便** 共享与任务相关的文档、图片或其他资料。

**验收标准：**
- 在任务详情页，有一个附件上传区域。
- 用户可以从本地选择一个或多个文件进行上传。
- 上传的附件会以列表形式显示，并可以下载或预览。

### 故事 5.2：查看任务变更历史

**作为** 一名团队负责人，
**我想要** 查看一个任务的所有变更历史记录，
**以便** 了解任务的整个生命周期和所有操作。

**验收标准：**
- 任务详情页有一个“历史”或“活动”标签页。
- 该页面会按时间倒序列出所有对任务的变更，包括状态变更、负责人变更、描述更新等。
- 每条记录都包含操作者、操作时间和操作内容。

## 6. 任务搜索与筛选

### 故事 6.1：搜索任务

**作为** 一名用户，
**我想要** 通过关键词搜索任务，
**以便** 快速找到我需要的任务。

**验收标准：**
- 在看板页面或全局导航栏有一个搜索框。
- 输入关键词后，系统会返回标题或描述中包含该关键词的任务列表。

### 故事 6.2：筛选任务

**作为** 一名用户，
**我想要** 根据负责人、标签、优先级、截止日期等条件筛选看板上的任务，
**以便** 我可以只关注我关心的任务。

**验收标准：**
- 看板页面提供多个筛选选项。
- 用户可以选择一个或多个筛选条件。
- 看板上的任务会根据所选条件进行实时过滤显示。
