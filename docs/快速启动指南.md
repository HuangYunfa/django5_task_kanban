# Django 5 ä¼ä¸šçº§å¾…åŠäº‹é¡¹ä»»åŠ¡çœ‹æ¿ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ç¯å¢ƒçŠ¶æ€æ£€æŸ¥

âœ… **å·²å®Œæˆçš„ç¯å¢ƒæ­å»ºæ­¥éª¤ï¼š**

1. âœ… Pythonè™šæ‹Ÿç¯å¢ƒå·²åˆ›å»ºå¹¶æ¿€æ´» (`venv/`)
2. âœ… Pythonä¾èµ–å·²å®‰è£…å®Œæˆ (requirements/dev.txt)
3. âœ… DockeræœåŠ¡å·²å¯åŠ¨ (PostgreSQL + Redis)
4. âœ… ç¯å¢ƒå˜é‡æ–‡ä»¶å·²é…ç½® (.env)
5. âœ… Djangoé¡¹ç›®å·²åˆ›å»ºå¹¶é…ç½® (taskkanban/)
6. âœ… æ•°æ®åº“è¿ç§»å·²å®Œæˆ
7. âœ… è¶…çº§ç”¨æˆ·å·²åˆ›å»º (admin)
8. âœ… Djangoå¼€å‘æœåŠ¡å™¨å·²å¯åŠ¨
9. âœ… é™æ€æ–‡ä»¶å’Œæ¨¡æ¿ç»“æ„å·²åˆ›å»º

## å¿«é€Ÿå¯åŠ¨å‘½ä»¤

### 1. å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨DockeræœåŠ¡ï¼ˆPostgreSQLå’ŒRedisï¼‰
docker-compose up -d

# æ¿€æ´»Pythonè™šæ‹Ÿç¯å¢ƒ
venv\Scripts\activate

# è¿›å…¥Djangoé¡¹ç›®ç›®å½•
cd taskkanban

# å¯åŠ¨Djangoå¼€å‘æœåŠ¡å™¨
python manage.py runserver
```

### 2. è®¿é—®åº”ç”¨

- **Djangoåº”ç”¨é¦–é¡µ**: http://127.0.0.1:8000/
- **Djangoç®¡ç†åå°**: http://127.0.0.1:8000/admin/
  - ç”¨æˆ·å: `huangyunfa`
  - é‚®ç®±: `hugo__huang@163.com`
  - å¯†ç : [å·²è®¾ç½®]

### 3. å¯åŠ¨Celery Workerï¼ˆå¯é€‰ï¼‰

åœ¨æ–°çš„ç»ˆç«¯çª—å£ä¸­ï¼š

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
venv\Scripts\activate

# è¿›å…¥é¡¹ç›®ç›®å½•
cd taskkanban

# å¯åŠ¨Celery Worker
celery -A taskkanban worker --loglevel=info
```

### 4. å¯åŠ¨Celery Beatï¼ˆå¯é€‰ï¼‰

åœ¨å¦ä¸€ä¸ªæ–°çš„ç»ˆç«¯çª—å£ä¸­ï¼š

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
venv\Scripts\activate

# è¿›å…¥é¡¹ç›®ç›®å½•
cd taskkanban

# å¯åŠ¨Celery Beat
celery -A taskkanban beat --loglevel=info
```

## å½“å‰é¡¹ç›®ç»“æ„

```
django5_task_kanban/
â”œâ”€â”€ .dockerignore           âœ… Dockerå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .env                    âœ… ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ .gitignore             âœ… Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ docker-compose.yml     âœ… DockeræœåŠ¡é…ç½®
â”œâ”€â”€ requirements/          âœ… Pythonä¾èµ–ç®¡ç†
â”‚   â”œâ”€â”€ base.txt           âœ… åŸºç¡€ä¾èµ–
â”‚   â”œâ”€â”€ dev.txt            âœ… å¼€å‘ç¯å¢ƒä¾èµ–
â”‚   â””â”€â”€ prod.txt           âœ… ç”Ÿäº§ç¯å¢ƒä¾èµ–
â”œâ”€â”€ docs/                  âœ… é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ venv/                  âœ… Pythonè™šæ‹Ÿç¯å¢ƒ
â””â”€â”€ taskkanban/            âœ… Djangoé¡¹ç›®
    â”œâ”€â”€ manage.py          âœ… Djangoç®¡ç†è„šæœ¬
    â”œâ”€â”€ static/            âœ… é™æ€æ–‡ä»¶
    â”‚   â”œâ”€â”€ css/           âœ… CSSæ–‡ä»¶
    â”‚   â”œâ”€â”€ js/            âœ… JavaScriptæ–‡ä»¶
    â”‚   â””â”€â”€ images/        âœ… å›¾ç‰‡æ–‡ä»¶
    â”œâ”€â”€ templates/         âœ… æ¨¡æ¿æ–‡ä»¶
    â”‚   â”œâ”€â”€ base.html      âœ… åŸºç¡€æ¨¡æ¿
    â”‚   â””â”€â”€ includes/      âœ… å¯å¤ç”¨ç»„ä»¶
    â””â”€â”€ taskkanban/        âœ… Djangoé…ç½®
        â”œâ”€â”€ settings.py    âœ… é¡¹ç›®è®¾ç½®
        â”œâ”€â”€ urls.py        âœ… URLé…ç½®
        â”œâ”€â”€ celery.py      âœ… Celeryé…ç½®
        â”œâ”€â”€ asgi.py        âœ… ASGIé…ç½®
        â””â”€â”€ wsgi.py        âœ… WSGIé…ç½®
```

## æœåŠ¡çŠ¶æ€

### DockeræœåŠ¡çŠ¶æ€
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# é¢„æœŸè¾“å‡ºï¼š
# django5_task_kanban-db-1      postgres:15   Up   0.0.0.0:5432->5432/tcp
# django5_task_kanban-redis-1   redis:7       Up   0.0.0.0:6379->6379/tcp
```

### DjangoæœåŠ¡çŠ¶æ€
- âœ… å¼€å‘æœåŠ¡å™¨è¿è¡Œåœ¨ http://127.0.0.1:8000/
- âœ… æ•°æ®åº“è¿æ¥æ­£å¸¸ (PostgreSQL)
- âœ… ç¼“å­˜è¿æ¥æ­£å¸¸ (Redis)

## å¸¸ç”¨å¼€å‘å‘½ä»¤

### Djangoå‘½ä»¤
```bash
# æ•°æ®åº“ç›¸å…³
python manage.py makemigrations    # åˆ›å»ºè¿ç§»
python manage.py migrate           # åº”ç”¨è¿ç§»
python manage.py createsuperuser   # åˆ›å»ºè¶…çº§ç”¨æˆ·

# å¼€å‘å·¥å…·
python manage.py shell_plus        # å¢å¼ºShell
python manage.py runserver_plus    # å¢å¼ºå¼€å‘æœåŠ¡å™¨
python manage.py collectstatic     # æ”¶é›†é™æ€æ–‡ä»¶

# æµ‹è¯•
python manage.py test              # è¿è¡Œæµ‹è¯•
```

### Dockerå‘½ä»¤
```bash
# æœåŠ¡ç®¡ç†
docker-compose up -d              # å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose down               # åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose restart [service]  # é‡å¯ç‰¹å®šæœåŠ¡
docker-compose logs -f [service] # æŸ¥çœ‹æœåŠ¡æ—¥å¿—
```

### ä»£ç è´¨é‡å·¥å…·
```bash
# ä»£ç æ ¼å¼åŒ–
black .                           # æ ¼å¼åŒ–ä»£ç 
isort .                          # å¯¼å…¥æ’åº
flake8                           # ä»£ç æ£€æŸ¥
```

## ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

1. **åˆ›å»ºæ ¸å¿ƒåº”ç”¨**: users, boards, tasks, teams, reports
2. **è®¾è®¡æ•°æ®æ¨¡å‹**: ç”¨æˆ·æ¨¡å‹ã€çœ‹æ¿æ¨¡å‹ã€ä»»åŠ¡æ¨¡å‹ç­‰
3. **å®ç°ç”¨æˆ·è®¤è¯**: ç™»å½•ã€æ³¨å†Œã€æƒé™ç®¡ç†
4. **å¼€å‘çœ‹æ¿åŠŸèƒ½**: çœ‹æ¿åˆ›å»ºã€ä»»åŠ¡æ‹–æ‹½ã€çŠ¶æ€ç®¡ç†
5. **æ·»åŠ å®æ—¶åŠŸèƒ½**: WebSocketæ”¯æŒã€å®æ—¶é€šçŸ¥
6. **å®Œå–„UIç•Œé¢**: Bootstrapç»„ä»¶ã€å“åº”å¼è®¾è®¡

## æ•…éšœæ’é™¤

### æ•°æ®åº“è¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥PostgreSQLå®¹å™¨çŠ¶æ€
docker-compose logs db

# æµ‹è¯•æ•°æ®åº“è¿æ¥
python -c "import psycopg2; conn = psycopg2.connect('postgres://taskkanban:taskkanban@localhost:5432/taskkanban'); print('Connected!'); conn.close()"
```

### Redisè¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥Rediså®¹å™¨çŠ¶æ€
docker-compose logs redis

# æµ‹è¯•Redisè¿æ¥
python -c "import redis; r = redis.Redis(host='localhost', port=6379, db=0); print('Redis connected:', r.ping())"
```

### ç«¯å£å†²çª
å¦‚æœé‡åˆ°ç«¯å£å†²çªï¼Œå¯ä»¥ä¿®æ”¹ `docker-compose.yml` ä¸­çš„ç«¯å£æ˜ å°„ï¼š
```yaml
ports:
  - "5433:5432"  # å°†PostgreSQLç«¯å£æ”¹ä¸º5433
  - "6380:6379"  # å°†Redisç«¯å£æ”¹ä¸º6380
```

## å¼€å‘ç¯å¢ƒä¿¡æ¯

- **Pythonç‰ˆæœ¬**: 3.12
- **Djangoç‰ˆæœ¬**: 5.2.3
- **PostgreSQLç‰ˆæœ¬**: 15
- **Redisç‰ˆæœ¬**: 7
- **å¼€å‘æ¨¡å¼**: æ··åˆå¼€å‘ç¯å¢ƒï¼ˆæœ¬åœ°Django + Dockeræ•°æ®åº“æœåŠ¡ï¼‰

---

## æ€»ç»“

ğŸ‰ **æ­å–œï¼Django 5 ä¼ä¸šçº§å¾…åŠäº‹é¡¹ä»»åŠ¡çœ‹æ¿çš„æ··åˆå¼€å‘ç¯å¢ƒå·²ç»æˆåŠŸæ­å»ºå®Œæˆï¼**

æ‰€æœ‰æ ¸å¿ƒæœåŠ¡éƒ½å·²å¯åŠ¨å¹¶è¿è¡Œæ­£å¸¸ï¼š
- âœ… Djangoå¼€å‘æœåŠ¡å™¨ (http://127.0.0.1:8000/)
- âœ… PostgreSQLæ•°æ®åº“æœåŠ¡
- âœ… Redisç¼“å­˜æœåŠ¡
- âœ… Celeryä»»åŠ¡é˜Ÿåˆ—æ”¯æŒ

ç°åœ¨å¯ä»¥å¼€å§‹å¼€å‘å…·ä½“çš„ä¸šåŠ¡åŠŸèƒ½äº†ï¼

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2025å¹´6æœˆ21æ—¥ 23:01*  
*ç¯å¢ƒæ­å»ºçŠ¶æ€: å®Œæˆ*
